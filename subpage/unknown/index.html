<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>知识库表格 - 90年代风格</title>
    <style>
        /* 90年代风格CSS */
        body {
            background-color: #c0c0c0;
            font-family: "Times New Roman", serif;
            margin: 10px;
            padding: 0;
            color: #000;
        }
        
        .container {
            width: 95%;
            margin: 0 auto;
            background-color: #fff;
            border: 2px outset #c0c0c0;
            padding: 10px;
        }

        /* 返回按钮样式 - 贴合90年代风格 */
        .back-btn {
            background-color: #c0c0c0;
            border: 2px outset #c0c0c0;
            padding: 5px 12px;
            margin-bottom: 10px;
            cursor: pointer;
            font-family: "Times New Roman", serif;
            font-size: 14px;
            color: #000;
            text-decoration: none;
            display: inline-block;
        }

        .back-btn:hover {
            background-color: #d0d0d0;
        }

        .back-btn:active {
            border: 2px inset #c0c0c0;
        }
        
        h1 {
            font-size: 24px;
            margin: 0 0 10px 0;
            font-weight: bold;
            color: #000080;
            text-align: center;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        th, td {
            border: 1px solid #000;
            padding: 5px;
            text-align: left;
        }
        
        th {
            background-color: #008080;
            color: #fff;
        }
        
        tr:nth-child(even) {
            background-color: #e8e8e8;
        }
        
        .status {
            background-color: #e8e8e8;
            padding: 5px;
            margin-bottom: 10px;
            border: 1px inset #c0c0c0;
            font-size: 14px;
        }
        
        .loading {
            color: #000080;
        }
        
        .error {
            color: #ff0000;
        }
        
        .success {
            color: #008000;
        }
        
        .github-info {
            background-color: #e8e8e8;
            padding: 10px;
            margin-top: 20px;
            border: 2px inset #c0c0c0;
            font-size: 14px;
        }
        
        .blink {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 新增：返回按钮，跳转至../../../index.html -->
        <a href="../../index.html" class="back-btn">← 返回首页</a>
        
        <h1>我的知识库表格</h1>
        
        <!-- 数据加载状态 -->
        <div id="status" class="status">
            正在加载数据...
        </div>
        
        <!-- 知识库核心表格 -->
        <table id="knowledgeTable">
            <thead>
                <tr>
                    <th>编号</th>
                    <th>主题</th>
                    <th>类别</th>
                    <th>描述</th>
                    <th>重要性</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- 数据将通过JavaScript动态添加 -->
            </tbody>
        </table>
        
        <!-- 网站说明（去除用户提交相关内容） -->
        <div class="github-info">
            <h2>关于此网站</h2>
            <p>这个网站托管在 GitHub Pages 上，展示个人知识库数据。</p>
            <p class="blink">提示: 表格支持响应式适配，可在不同设备上查看。</p>
        </div>
    </div>

    <script>
        // 页面加载时自动读取data.json数据
        async function loadData() {
            const statusElement = document.getElementById('status');
            const tableBody = document.getElementById('tableBody');
            
            try {
                statusElement.textContent = "正在从根目录加载data.json文件...";
                statusElement.className = "status loading";
                
                // 尝试从根目录加载data.json
                const response = await fetch('./data.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP错误! 状态: ${response.status}`);
                }
                
                const data = await response.json();
                
                // 清空表格并填充数据
                tableBody.innerHTML = '';
                data.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.id || ''}</td>
                        <td>${item.topic || ''}</td>
                        <td>${item.category || ''}</td>
                        <td>${item.description || ''}</td>
                        <td>${item.importance || ''}</td>
                    `;
                    tableBody.appendChild(row);
                });
                
                statusElement.textContent = `数据加载成功! 共加载 ${data.length} 条知识记录。`;
                statusElement.className = "status success";
                
            } catch (error) {
                console.error('加载数据时出错:', error);
                statusElement.textContent = `错误: 无法加载data.json文件。错误详情: ${error.message}`;
                statusElement.className = "status error";
                
                // 显示示例数据作为备用
                displaySampleData(tableBody);
            }
        }
        
        // 显示示例数据（文件加载失败时备用）
        function displaySampleData(tableBody) {
            const sampleData = [
  
            ];
            
            // 填充示例数据
            tableBody.innerHTML = '';
            sampleData.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.topic}</td>
                    <td>${item.category}</td>
                    <td>${item.description}</td>
                    <td>${item.importance}</td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // 页面加载完成后执行数据加载
        window.onload = loadData;
    </script>
</body>
</html>